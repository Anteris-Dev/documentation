<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CRUD Actions | Anteris Documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Anteris' package documentation.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.78e614ce.css" as="style"><link rel="preload" href="/assets/js/app.6b4030c4.js" as="script"><link rel="preload" href="/assets/js/2.6d238cf0.js" as="script"><link rel="preload" href="/assets/js/8.98323c93.js" as="script"><link rel="prefetch" href="/assets/js/10.6aba72ab.js"><link rel="prefetch" href="/assets/js/11.08f624f4.js"><link rel="prefetch" href="/assets/js/12.a75a671c.js"><link rel="prefetch" href="/assets/js/13.9c99d269.js"><link rel="prefetch" href="/assets/js/14.7a4828de.js"><link rel="prefetch" href="/assets/js/15.12ba3d9e.js"><link rel="prefetch" href="/assets/js/16.94a5bdda.js"><link rel="prefetch" href="/assets/js/17.5ceb2ca1.js"><link rel="prefetch" href="/assets/js/18.d8cb6a2c.js"><link rel="prefetch" href="/assets/js/19.41d22dfe.js"><link rel="prefetch" href="/assets/js/3.fdffd31f.js"><link rel="prefetch" href="/assets/js/4.e725ccb8.js"><link rel="prefetch" href="/assets/js/5.40719348.js"><link rel="prefetch" href="/assets/js/6.7ec98c47.js"><link rel="prefetch" href="/assets/js/7.9ee12c48.js"><link rel="prefetch" href="/assets/js/9.ea62b40f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.78e614ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/anteris-logo.png" alt="Anteris Documentation" class="logo"> <span class="site-name can-hide">Anteris Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://discord.gg/JmYNRbg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Join the Discord!
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/anteris-dev/documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://discord.gg/JmYNRbg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Join the Discord!
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/anteris-dev/documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Autotask Client</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/autotask-client/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/autotask-client/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/autotask-client/entities.html" class="sidebar-link">Entities</a></li><li><a href="/autotask-client/crud-actions.html" aria-current="page" class="active sidebar-link">CRUD Actions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/autotask-client/crud-actions.html#create" class="sidebar-link">Create</a></li><li class="sidebar-sub-header"><a href="/autotask-client/crud-actions.html#read" class="sidebar-link">Read</a></li><li class="sidebar-sub-header"><a href="/autotask-client/crud-actions.html#update" class="sidebar-link">Update</a></li><li class="sidebar-sub-header"><a href="/autotask-client/crud-actions.html#delete" class="sidebar-link">Delete</a></li></ul></li></ul></section></li><li><a href="https://github.com/anteris-dev/autotask-client" target="_blank" rel="noopener noreferrer" class="sidebar-link">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="crud-actions"><a href="#crud-actions" class="header-anchor">#</a> CRUD Actions</h1> <p><strong>C</strong>reate <strong>R</strong>ead <strong>U</strong>pdate and <strong>D</strong>elete. These are the important actions you will need to make against the Autotask API and we've got you covered. Below we will describe the ways you can interact with Autotask resources.</p> <p>These actions are performed by methods that exist on the service classes. This can be easily accessed through the wrapper client, or created separately. To learn about bypassing the wrapper class, look <a href="/autotask-client/getting-started.html">here</a>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If Autotask does not support one of these actions on the entity, its method will not exist on the service class. To check one of these actions on the entity you are curious about, take a look at the <a href="https://autotask.net/help/DeveloperHelp/Content/AdminSetup/2ExtensionsIntegrations/APIs/REST/Entities/_EntitiesOverview.htm" target="_blank" rel="noopener noreferrer">Autotask documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="create"><a href="#create" class="header-anchor">#</a> Create</h2> <p>To create a new resource, you can use the <code>create()</code> method on the resource service. The <code>create()</code> method takes a single entity that represents the resource. The client will then make a request against the Autotask API. If any errors are encountered along the way, an exception is thrown.</p> <div class="custom-block danger"><p class="custom-block-title">CAREFUL</p> <p>Autotask requires that new entities have an ID of 0. Don't forget this as you build your entity!</p></div> <p>Below you will find an example of how to create a new contact in Autotask.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Create a contact entity representing the contact I want to create...</span>
<span class="token variable">$contact</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Anteris<span class="token punctuation">\</span>Autotask<span class="token punctuation">\</span>API<span class="token punctuation">\</span>Contacts<span class="token punctuation">\</span>ContactEntity</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'id'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'companyID'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'firstName'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'New'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'lastName'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'User'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'isActive'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Actually create the contact</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contacts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$contact</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>Throwable <span class="token variable">$error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;There was an error creating that ticket: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$error</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="read"><a href="#read" class="header-anchor">#</a> Read</h2> <p>There are a couple ways to read resources from Autotask. If you are looking to retrieve a single resource, our recommendation is the <code>findById()</code> method on the resource service. This method takes a single integer that represents the resource ID. The client will then make a request against the Autotask API. If any errors are encountered along the way, an exception is thrown.</p> <p>Below you will find an example of how to retrieve the contact with an ID of &quot;1&quot;.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contacts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>Throwable <span class="token variable">$error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;That contact was not found!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Another way to read resources is by creating a query to retrieve multiple assets. This can be done by using the <code>query()</code> method which returns a new QueryBuilder. To learn more about query builders, see the query builder section.</p> <h2 id="update"><a href="#update" class="header-anchor">#</a> Update</h2> <p>To update resources in Autotask, you can use the <code>update()</code> method on the resource service. This method takes a single entity which will then be updated using the Autotask API.</p> <div class="custom-block danger"><p class="custom-block-title">CAREFUL</p> <p>Currently the <code>update()</code> method updates the resource using a PUT request. Because of this, you need to be careful to ensure the entity looks exactly like you want it to in the Autotask database. To accomplish this, we recommend executing a <code>findById()</code> request and making your updates to the result before sending the request.</p></div> <p>Below you will find an example of retrieving a contact from Autotask and making some changes to it.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Retrieve the contact</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$contact</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contacts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>Throwable <span class="token variable">$error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Unable to retrieve contact: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$error</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Make the changes</span>
<span class="token variable">$contact</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">firstName</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Aidan'</span><span class="token punctuation">;</span>

<span class="token comment">// Perform the update</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contacts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$contact</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>Throwable <span class="token variable">$error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;Unable to update the contact: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$error</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="delete"><a href="#delete" class="header-anchor">#</a> Delete</h2> <p>To delete resources in Autotask, you can use the <code>deleteById()</code> method on the resource service. This method takes a single integer that represents the resource ID. The client will then make a request against the Autotask API. If any errors are encountered along the way, an exception is thrown.</p> <p>Below you will find an example of how to delete a contact with the ID of &quot;1&quot;.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contacts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> Throwable <span class="token variable">$error</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;Unable to delete the resouse: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$error</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/anteris-dev/documentation/edit/master/src/autotask-client/crud-actions.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Update At:</span> <span class="time">11/17/2020, 10:01:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/autotask-client/entities.html" class="prev">
        Entities
      </a></span> <span class="next"><a href="https://github.com/anteris-dev/autotask-client" target="_blank" rel="noopener noreferrer">
        GitHub

        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.6b4030c4.js" defer></script><script src="/assets/js/2.6d238cf0.js" defer></script><script src="/assets/js/8.98323c93.js" defer></script>
  </body>
</html>
